<mxfile host="app.diagrams.net" modified="2022-04-14T02:40:01.911Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36" etag="ma7UCyRFzkbQvXL0fvsg" version="16.5.6" type="github" pages="2">
  <diagram id="C47Pr9LcSbccXJIOxYJe" name="lottery数据库">
    <mxGraphModel dx="2276" dy="680" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="pIYXwf-N_aHhezidXHaR-4" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;font-size: 18px&quot;&gt;&lt;b&gt;activity&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="370" y="20" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pIYXwf-N_aHhezidXHaR-5" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`activity`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`activity` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_name` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动名称&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_desc` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动描述&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`begin_date_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;开始时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`end_date_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;结束时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`stock_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;库存&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`stock_surplus_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;库存剩余&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`take_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;每人可参与次数&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;抽奖策略ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`state` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动状态：1编辑、2提审、3撤审、4通过、5运行(审核通过后worker扫描状态)、6拒绝、7关闭、8开启&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`creator` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建人&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;修改时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  UNIQUE KEY &lt;/span&gt;`unique_activity_id` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;`activity_id`&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB AUTO_INCREMENT=&lt;span style=&quot;color: #6897bb&quot;&gt;4 &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_bin COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动配置&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-160" y="30" width="550" height="470" as="geometry" />
        </mxCell>
        <mxCell id="0TD_xxccA5zFwojgquX4-1" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`award`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`award` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_type` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品类型（1:文字描述、2:兑换码、3:优惠券、4:实物奖品）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_name` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品名称&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_content` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品内容「文字描述、Key、码」&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;更新时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  UNIQUE KEY &lt;/span&gt;`idx_award_id` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;`award_id`&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB AUTO_INCREMENT=&lt;span style=&quot;color: #6897bb&quot;&gt;6 &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_bin COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品配置&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-200" y="500" width="550" height="310" as="geometry" />
        </mxCell>
        <mxCell id="0TD_xxccA5zFwojgquX4-2" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;font-size: 18px&quot;&gt;&lt;b&gt;award&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="380" y="480" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0TD_xxccA5zFwojgquX4-3" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`strategy`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`strategy` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_desc` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略描述&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_mode` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略方式（1:单项概率、2:总体概率）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`grant_type` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;发放奖品方式（1:即时、2:定时[含活动结束]、3:人工）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`grant_date` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;发放奖品时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`ext_info` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;扩展信息&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;修改时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  UNIQUE KEY &lt;/span&gt;`strategy_strategyId_uindex` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;`strategy_id`&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB AUTO_INCREMENT=&lt;span style=&quot;color: #6897bb&quot;&gt;2 &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_bin COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略配置&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-150" y="890" width="550" height="360" as="geometry" />
        </mxCell>
        <mxCell id="0TD_xxccA5zFwojgquX4-4" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;font-size: 18px&quot;&gt;&lt;b&gt;strategy&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="330" y="870" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0TD_xxccA5zFwojgquX4-5" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`strategy_detail`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`strategy_detail` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_name` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品描述&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品库存&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_surplus_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;0&#39; &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品剩余库存&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_rate` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;decimal&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;中奖概率&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;修改时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB AUTO_INCREMENT=&lt;span style=&quot;color: #6897bb&quot;&gt;6 &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_bin COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略明细&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-140" y="1290" width="550" height="330" as="geometry" />
        </mxCell>
        <mxCell id="0TD_xxccA5zFwojgquX4-6" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;font-size: 18px&quot;&gt;&lt;b&gt;strategy_detail&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="295" y="1260" width="130" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="fotytXlUEJIduu81VDzJ" name="lottery_01(02)">
    <mxGraphModel dx="2276" dy="680" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="18_Ub5zp_R_VWRuch75S-0" />
        <mxCell id="18_Ub5zp_R_VWRuch75S-1" parent="18_Ub5zp_R_VWRuch75S-0" />
        <mxCell id="2_thYVw-Z4bwrRJudLxq-0" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`user_strategy_export_000`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`user_strategy_export_000` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`u_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;32&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;用户ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`order_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;32&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;订单ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_mode` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略方式（1:单项概率、2:总体概率）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`grant_type` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;发放奖品方式（1:即时、2:定时[含活动结束]、3:人工）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`grant_date` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;发奖时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`grant_state` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;发奖状态&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;发奖ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_type` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品类型（1:文字描述、2:兑换码、3:优惠券、4:实物奖品）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_name` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品名称&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_content` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品内容「文字描述、Key、码」&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`uuid` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;防重ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`mq_state` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;消息发送状态（0未发送、1发送成功、2发送失败）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;更新时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  UNIQUE KEY &lt;/span&gt;`idx_uuid` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;`uuid`&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;USING &lt;/span&gt;BTREE&lt;br&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_0900_ai_ci COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;用户策略计算结果表&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="-170" y="60" width="550" height="360" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-1" value="Text" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="400" y="340" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-2" value="Text" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="400" y="340" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-3" value="&lt;font style=&quot;font-size: 18px&quot; face=&quot;Times New Roman&quot;&gt;&lt;b&gt;分库分表：user_strategy_export_000(001-004)&lt;/b&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="180" y="40" width="380" height="20" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-4" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`user_take_activity`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`user_take_activity` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`u_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;32&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;用户ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`take_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动领取ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_name` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动名称&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`take_date` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动领取时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`take_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;领取次数&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;抽奖策略ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`state` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动单使用状态 0未使用、1已使用&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`uuid` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;防重ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;更新时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  UNIQUE KEY &lt;/span&gt;`idx_uuid` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;`uuid`&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;USING &lt;/span&gt;BTREE COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;防重ID&#39;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB AUTO_INCREMENT=&lt;span style=&quot;color: #6897bb&quot;&gt;31 &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_bin COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;用户参与活动记录表&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="-100" y="590" width="550" height="420" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-5" value="&lt;font style=&quot;font-size: 18px&quot; face=&quot;Times New Roman&quot;&gt;&lt;b&gt;分库不分表：user_take_activity&lt;/b&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="230" y="570" width="260" height="20" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-6" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`user_take_activity_count`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`user_take_activity_count` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`u_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;用户ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`total_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;总计可领次数&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`left_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;剩余领取次数&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;更新时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  UNIQUE KEY &lt;/span&gt;`idx_uId_activityId` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;`u_id`&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;/span&gt;`activity_id`&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;USING &lt;/span&gt;BTREE&lt;br&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB AUTO_INCREMENT=&lt;span style=&quot;color: #6897bb&quot;&gt;4 &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_0900_ai_ci COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;用户活动参与次数表&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="-130" y="1030" width="550" height="310" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-7" value="&lt;font style=&quot;font-size: 18px&quot; face=&quot;Times New Roman&quot;&gt;&lt;b&gt;分库不分表：user_take_activity_count&lt;/b&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="180" y="1010" width="320" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
