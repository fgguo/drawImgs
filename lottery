<mxfile host="app.diagrams.net" modified="2022-04-17T11:20:55.264Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.88 Safari/537.36" etag="cEHkPR1MdPbWcfCcDUWQ" version="17.4.5" type="github" pages="4">
  <diagram id="C47Pr9LcSbccXJIOxYJe" name="lottery数据库">
    <mxGraphModel dx="1796" dy="500" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="pIYXwf-N_aHhezidXHaR-4" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;font-size: 18px&quot;&gt;&lt;b&gt;activity&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="370" y="20" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pIYXwf-N_aHhezidXHaR-5" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`activity`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`activity` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_name` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动名称&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_desc` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动描述&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`begin_date_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;开始时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`end_date_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;结束时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`stock_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;库存&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`stock_surplus_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;库存剩余&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`take_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;每人可参与次数&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;抽奖策略ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`state` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动状态：1编辑、2提审、3撤审、4通过、5运行(审核通过后worker扫描状态)、6拒绝、7关闭、8开启&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`creator` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建人&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;修改时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  UNIQUE KEY &lt;/span&gt;`unique_activity_id` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;`activity_id`&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB AUTO_INCREMENT=&lt;span style=&quot;color: #6897bb&quot;&gt;4 &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_bin COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动配置&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-160" y="30" width="550" height="470" as="geometry" />
        </mxCell>
        <mxCell id="0TD_xxccA5zFwojgquX4-1" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`award`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`award` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_type` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品类型（1:文字描述、2:兑换码、3:优惠券、4:实物奖品）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_name` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品名称&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_content` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品内容「文字描述、Key、码」&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;更新时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  UNIQUE KEY &lt;/span&gt;`idx_award_id` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;`award_id`&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB AUTO_INCREMENT=&lt;span style=&quot;color: #6897bb&quot;&gt;6 &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_bin COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品配置&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-200" y="500" width="550" height="310" as="geometry" />
        </mxCell>
        <mxCell id="0TD_xxccA5zFwojgquX4-2" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;font-size: 18px&quot;&gt;&lt;b&gt;award&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="380" y="480" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0TD_xxccA5zFwojgquX4-3" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`strategy`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`strategy` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_desc` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略描述&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_mode` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略方式（1:单项概率、2:总体概率）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`grant_type` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;发放奖品方式（1:即时、2:定时[含活动结束]、3:人工）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`grant_date` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;发放奖品时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`ext_info` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;扩展信息&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;修改时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  UNIQUE KEY &lt;/span&gt;`strategy_strategyId_uindex` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;`strategy_id`&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB AUTO_INCREMENT=&lt;span style=&quot;color: #6897bb&quot;&gt;2 &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_bin COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略配置&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-150" y="890" width="550" height="360" as="geometry" />
        </mxCell>
        <mxCell id="0TD_xxccA5zFwojgquX4-4" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;font-size: 18px&quot;&gt;&lt;b&gt;strategy&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="330" y="870" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0TD_xxccA5zFwojgquX4-5" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`strategy_detail`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`strategy_detail` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_name` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_0900_ai_ci &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品描述&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品库存&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_surplus_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;0&#39; &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品剩余库存&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_rate` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;decimal&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;中奖概率&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;修改时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB AUTO_INCREMENT=&lt;span style=&quot;color: #6897bb&quot;&gt;6 &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_bin COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略明细&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-140" y="1290" width="550" height="330" as="geometry" />
        </mxCell>
        <mxCell id="0TD_xxccA5zFwojgquX4-6" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;font-size: 18px&quot;&gt;&lt;b&gt;strategy_detail&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="295" y="1260" width="130" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="fotytXlUEJIduu81VDzJ" name="lottery_01(02)">
    <mxGraphModel dx="2276" dy="680" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="18_Ub5zp_R_VWRuch75S-0" />
        <mxCell id="18_Ub5zp_R_VWRuch75S-1" parent="18_Ub5zp_R_VWRuch75S-0" />
        <mxCell id="2_thYVw-Z4bwrRJudLxq-0" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`user_strategy_export_000`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`user_strategy_export_000` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`u_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;32&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;用户ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`order_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;32&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;订单ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_mode` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;策略方式（1:单项概率、2:总体概率）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`grant_type` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;发放奖品方式（1:即时、2:定时[含活动结束]、3:人工）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`grant_date` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;发奖时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`grant_state` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;发奖状态&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;发奖ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_type` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品类型（1:文字描述、2:兑换码、3:优惠券、4:实物奖品）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_name` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品名称&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`award_content` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;奖品内容「文字描述、Key、码」&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`uuid` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;防重ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`mq_state` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;消息发送状态（0未发送、1发送成功、2发送失败）&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;更新时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  UNIQUE KEY &lt;/span&gt;`idx_uuid` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;`uuid`&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;USING &lt;/span&gt;BTREE&lt;br&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_0900_ai_ci COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;用户策略计算结果表&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="-170" y="60" width="550" height="360" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-1" value="Text" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="400" y="340" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-2" value="Text" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="400" y="340" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-3" value="&lt;font style=&quot;font-size: 18px&quot; face=&quot;Times New Roman&quot;&gt;&lt;b&gt;分库分表：user_strategy_export_000(001-004)&lt;/b&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="180" y="40" width="380" height="20" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-4" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`user_take_activity`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`user_take_activity` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`u_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;32&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;用户ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`take_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动领取ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_name` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;64&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动名称&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`take_date` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动领取时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`take_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;领取次数&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`strategy_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;抽奖策略ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`state` &lt;/span&gt;tinyint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动单使用状态 0未使用、1已使用&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`uuid` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;128&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;防重ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;更新时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  UNIQUE KEY &lt;/span&gt;`idx_uuid` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;`uuid`&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;USING &lt;/span&gt;BTREE COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;防重ID&#39;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB AUTO_INCREMENT=&lt;span style=&quot;color: #6897bb&quot;&gt;31 &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_bin COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;用户参与活动记录表&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="-100" y="590" width="550" height="420" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-5" value="&lt;font style=&quot;font-size: 18px&quot; face=&quot;Times New Roman&quot;&gt;&lt;b&gt;分库不分表：user_take_activity&lt;/b&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="230" y="570" width="260" height="20" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-6" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DROP TABLE &lt;/span&gt;IF &lt;span style=&quot;color: #cc7832&quot;&gt;EXISTS &lt;/span&gt;`user_take_activity_count`&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CREATE TABLE &lt;/span&gt;`user_take_activity_count` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;NOT NULL &lt;/span&gt;AUTO_INCREMENT COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;自增ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`u_id` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;CHARACTER SET &lt;/span&gt;utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE &lt;/span&gt;utf8mb4_bin &lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;用户ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`activity_id` &lt;/span&gt;bigint&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;活动ID&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`total_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;总计可领次数&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`left_count` &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;剩余领取次数&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`create_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;创建时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`update_time` &lt;/span&gt;datetime&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT NULL &lt;/span&gt;COMMENT &lt;span style=&quot;color: #6a8759&quot;&gt;&#39;更新时间&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  PRIMARY KEY &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;`id`&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;  UNIQUE KEY &lt;/span&gt;`idx_uId_activityId` &lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;`u_id`&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;/span&gt;`activity_id`&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;USING &lt;/span&gt;BTREE&lt;br&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) &lt;/span&gt;ENGINE=InnoDB AUTO_INCREMENT=&lt;span style=&quot;color: #6897bb&quot;&gt;4 &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;DEFAULT &lt;/span&gt;CHARSET=utf8mb4 &lt;span style=&quot;color: #cc7832&quot;&gt;COLLATE&lt;/span&gt;=utf8mb4_0900_ai_ci COMMENT=&lt;span style=&quot;color: #6a8759&quot;&gt;&#39;用户活动参与次数表&#39;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="-130" y="1030" width="550" height="310" as="geometry" />
        </mxCell>
        <mxCell id="2_thYVw-Z4bwrRJudLxq-7" value="&lt;font style=&quot;font-size: 18px&quot; face=&quot;Times New Roman&quot;&gt;&lt;b&gt;分库不分表：user_take_activity_count&lt;/b&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="18_Ub5zp_R_VWRuch75S-1">
          <mxGeometry x="180" y="1010" width="320" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="7o08u_-BXNcRVJRkb-cZ" name="抽奖策略领域模块">
    <mxGraphModel dx="1796" dy="500" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="3JPE0SxEQBPPvcjDyJeV-0" />
        <mxCell id="3JPE0SxEQBPPvcjDyJeV-1" parent="3JPE0SxEQBPPvcjDyJeV-0" />
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-102" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 策略ID&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Long &lt;span style=&quot;color: #9876aa&quot;&gt;strategyId&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 策略配置&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;StrategyBriefVO &lt;span style=&quot;color: #9876aa&quot;&gt;strategy&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 策略明细&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;List&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;&amp;lt;&lt;/span&gt;StrategyDetailBriefVO&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #9876aa&quot;&gt;strategyDetailList&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="-300" y="80" width="550" height="360" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-103" value="&lt;b&gt;model.aggregates.StrategyRich&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Times New Roman;fontSize=18;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="-150" y="60" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-104" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 用户ID&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;uId&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 策略ID&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Long &lt;span style=&quot;color: #9876aa&quot;&gt;strategyId&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 防重ID&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;uuid&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="-290" y="470" width="260" height="360" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-105" value="&lt;b&gt;model.req.DrawReq&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Times New Roman;fontSize=18;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="-255" y="440" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-106" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 用户ID&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;uId&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 策略ID&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Long &lt;span style=&quot;color: #9876aa&quot;&gt;strategyId&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 中奖状态：0未中奖、1已中奖、2兜底奖 Constants.DrawState&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Integer &lt;span style=&quot;color: #9876aa&quot;&gt;drawState &lt;/span&gt;= Constants.DrawState.&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;FAIL&lt;/span&gt;.getCode&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;()&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 中奖奖品信息&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;DrawAwardVO &lt;span style=&quot;color: #9876aa&quot;&gt;drawAwardInfo&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="250" y="410" width="550" height="470" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-107" value="&lt;b&gt;model.res.DrawResult&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Times New Roman;fontSize=18;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="465" y="390" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-108" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/** 奖品ID */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;awardId&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/** 奖品类型（1:文字描述、2:兑换码、3:优惠券、4:实物奖品） */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Integer &lt;span style=&quot;color: #9876aa&quot;&gt;awardType&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/** 奖品名称 */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;awardName&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/** 奖品内容「描述、奖品码、sku」 */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;awardContent&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="-390" y="840" width="550" height="290" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-109" value="&lt;b&gt;model.vo.AwardBriefVO&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Times New Roman;fontSize=18;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="-285" y="830" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-110" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 奖品ID&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;awardId&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 中奖概率&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;BigDecimal &lt;span style=&quot;color: #9876aa&quot;&gt;awardRate&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="-320" y="1100" width="300" height="250" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-111" value="&lt;b&gt;model.vo.AwardRateVO&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Times New Roman;fontSize=18;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="-270" y="1090" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-112" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 用户ID&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;uId&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 奖品ID&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;awardId&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 奖品类型（1:文字描述、2:兑换码、3:优惠券、4:实物奖品）&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Integer &lt;span style=&quot;color: #9876aa&quot;&gt;awardType&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 奖品名称&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;awardName&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 奖品内容「描述、奖品码、sku」&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;awardContent&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 策略方式（1:单项概率、2:总体概率）&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Integer &lt;span style=&quot;color: #9876aa&quot;&gt;strategyMode&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 发放奖品方式（1:即时、2:定时[含活动结束]、3:人工）&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Integer &lt;span style=&quot;color: #9876aa&quot;&gt;grantType&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 发奖时间&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Date &lt;span style=&quot;color: #9876aa&quot;&gt;grantDate&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="190" y="840" width="500" height="880" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-113" value="&lt;b&gt;model.vo.DrawAwardVO&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Times New Roman;fontSize=18;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="310" y="830" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-114" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 策略ID&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Long &lt;span style=&quot;color: #9876aa&quot;&gt;strategyId&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 策略描述&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;strategyDesc&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 策略方式「1:单项概率、2:总体概率」&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Integer &lt;span style=&quot;color: #9876aa&quot;&gt;strategyMode&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 发放奖品方式「1:即时、2:定时[含活动结束]、3:人工」&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Integer &lt;span style=&quot;color: #9876aa&quot;&gt;grantType&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 发放奖品时间&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Date &lt;span style=&quot;color: #9876aa&quot;&gt;grantDate&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 扩展信息&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;extInfo&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="720" y="840" width="470" height="690" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-115" value="&lt;b&gt;model.vo.StrategyBriefVO&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Times New Roman;fontSize=18;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="835" y="830" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-116" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 策略ID&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Long &lt;span style=&quot;color: #9876aa&quot;&gt;strategyId&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 奖品ID&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;awardId&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 奖品名称&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color: #9876aa&quot;&gt;awardName&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 奖品库存&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Integer &lt;span style=&quot;color: #9876aa&quot;&gt;awardCount&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 奖品剩余库存&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;Integer &lt;span style=&quot;color: #9876aa&quot;&gt;awardSurplusCount&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; * 中奖概率&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;private &lt;/span&gt;BigDecimal &lt;span style=&quot;color: #9876aa&quot;&gt;awardRate&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="1230" y="840" width="350" height="690" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-117" value="&lt;b&gt;model.vo.StrategyDetailBriefVO&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Times New Roman;fontSize=18;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="1260" y="830" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-118" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;public &lt;/span&gt;DrawResult &lt;span style=&quot;color: #ffc66d&quot;&gt;doDrawExec&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;DrawReq req&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #808080&quot;&gt;// 1. 获取抽奖策略&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080&quot;&gt;    &lt;/span&gt;StrategyRich strategyRich = &lt;span style=&quot;color: #cc7832&quot;&gt;super&lt;/span&gt;.queryStrategyRich&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;req.getStrategyId&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;())&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;    &lt;/span&gt;StrategyBriefVO strategy = strategyRich.getStrategy&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;()&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #808080&quot;&gt;// 2. 校验抽奖策略是否已经初始化到内存&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;this&lt;/span&gt;.checkAndInitRateData&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;req.getStrategyId&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;()&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;strategy.getStrategyMode&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;()&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;strategyRich.getStrategyDetailList&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;())&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #808080&quot;&gt;// 3. 获取不在抽奖范围内的列表，包括：奖品库存为空、风控策略、临时调整等&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080&quot;&gt;    &lt;/span&gt;List&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;&amp;gt; &lt;/span&gt;excludeAwardIds = &lt;span style=&quot;color: #cc7832&quot;&gt;this&lt;/span&gt;.queryExcludeAwardIds&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;req.getStrategyId&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;())&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #808080&quot;&gt;// 4. 执行抽奖算法&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080&quot;&gt;    &lt;/span&gt;String awardId = &lt;span style=&quot;color: #cc7832&quot;&gt;this&lt;/span&gt;.drawAlgorithm&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;req.getStrategyId&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;()&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;drawAlgorithmGroup&lt;/span&gt;.get&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;strategy.getStrategyMode&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;())&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;excludeAwardIds&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #808080&quot;&gt;// 5. 包装中奖结果&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;return &lt;/span&gt;buildDrawResult&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;(&lt;/span&gt;req.getuId&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;()&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;req.getStrategyId&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;()&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;awardId&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;strategy&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="-285" y="1700" width="550" height="420" as="geometry" />
        </mxCell>
        <mxCell id="KZvZXNLu5mjWPq6Wtvx6-119" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 12pt&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;abstract class AbstractDrawBase extends DrawStrategySupport implements IDrawExec&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;fontFamily=Times New Roman;" parent="3JPE0SxEQBPPvcjDyJeV-1" vertex="1">
          <mxGeometry x="-125" y="1670" width="550" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="z2YkP9WbCwjsy0tPP2Dz" name="抽奖完整流程">
    <mxGraphModel dx="946" dy="500" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-105" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.67;entryY=0.003;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;fillColor=#B2C9AB;strokeWidth=3;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-100" target="Pz96xrmHh8Q_cynHrA4G-104">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-100" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#B2C9AB;sketch=0;fontSize=16;fontColor=#000000;strokeColor=#788AA3;fillColor=#FFFFFF;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="20" y="400" width="1230" height="470" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-7" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#46495D;strokeColor=#000000;fillColor=#B2C9AB;endArrow=none;endFill=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="40" y="225" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-36" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=1;entryDx=0;entryDy=0;fontSize=13;fontColor=#46495D;startArrow=classic;startFill=1;endArrow=none;endFill=0;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" target="Pz96xrmHh8Q_cynHrA4G-27">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="50" y="260" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="185" y="280" />
              <mxPoint x="170" y="280" />
              <mxPoint x="170" y="310" />
              <mxPoint x="1040" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-1" value="&lt;b style=&quot;font-size: 16px;&quot;&gt;&lt;font face=&quot;Times New Roman&quot; style=&quot;font-size: 16px;&quot;&gt;doRraw&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="130" y="200" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-2" value="&lt;font face=&quot;Times New Roman&quot; style=&quot;font-size: 20px;&quot;&gt;&lt;b style=&quot;font-size: 20px;&quot;&gt;IlotteryActivityBooth-&amp;gt;doDraw&lt;/b&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontSize=20;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="265" y="15" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-3" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 12.0pt&quot;&gt;interfaces.facade&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=20;fontFamily=Times New Roman;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="90" y="100" width="370" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-9" value="DrawReq" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="50" y="200" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-10" value="(uId,activityId)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="35" y="230" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-13" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#46495D;startArrow=classic;startFill=1;endArrow=none;endFill=0;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-11" target="Pz96xrmHh8Q_cynHrA4G-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-11" value="&lt;b style=&quot;font-size: 16px&quot;&gt;&lt;font face=&quot;Times New Roman&quot; style=&quot;font-size: 16px&quot;&gt;doRrawProcess&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="410" y="200" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-15" value="DrawProcessReq" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="265" y="200" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-16" value="(uId,activityId)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="275" y="230" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-17" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;application.process.draw&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="336" y="100" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-19" value="ActivityDrawProcessImpl&lt;br&gt;implements IActivityProcess" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;sketch=0;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="380" y="160" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-20" value="LotteryActivieyBooth&lt;br&gt;implements ILotteryActivieyBooth" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;sketch=0;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="89" y="158" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-22" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px&quot;&gt;① 执行抽奖&lt;/font&gt;&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;sketch=0;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="405" y="276" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-24" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=20;fontColor=#46495D;startArrow=classic;startFill=1;endArrow=none;endFill=0;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-23" target="Pz96xrmHh8Q_cynHrA4G-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-23" value="&lt;b style=&quot;font-family: &amp;#34;times new roman&amp;#34;&quot;&gt;sourceToTarget&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="670" y="200" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-25" value="&lt;font style=&quot;font-size: 13px&quot;&gt;DrawAwardVO&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=20;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="533" y="195" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-26" value="uId,awardId,awardType&lt;br&gt;awardName,awardContent&lt;br&gt;strategyMode,grantType,grantDate" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="484" y="226" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-28" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;fontColor=#46495D;startArrow=classic;startFill=1;endArrow=none;endFill=0;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-27" target="Pz96xrmHh8Q_cynHrA4G-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-27" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;b&gt;new DrawRes&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="930" y="200" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-29" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;interfaces.assembler&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=13;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="620" y="98" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-30" value="ActivityMapping extends&lt;br&gt;IMapping&amp;lt;ActivityVO, ActivityDTO&amp;gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;sketch=0;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="625" y="158" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-31" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px&quot;&gt;② 数据转换&lt;/font&gt;&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;sketch=0;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="665" y="276" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-32" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px&quot;&gt;③ 封装数据&lt;/font&gt;&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;sketch=0;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="910" y="276" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-33" value="AwardDTO" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="810" y="200" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-34" value="uId,awardId,awardType&lt;br&gt;awardName,awardContent&lt;br&gt;strategyMode,grantType,grantDate" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="740" y="226" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-38" value="setAwardDTO" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="1040" y="270" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-41" value="&lt;b&gt;drawRes&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="180" y="270" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-42" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px&quot;&gt;① 执行抽奖&lt;/font&gt;&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;sketch=0;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="5" y="370" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-44" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 12.0pt&quot;&gt;&lt;span style=&quot;color: #629755 ; font-style: italic&quot;&gt;活动抽奖流程编排&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=13;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry y="320" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-46" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;b&gt;领取活动&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="616" y="404" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-101" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-60" target="Pz96xrmHh8Q_cynHrA4G-69">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-60" value="&lt;span&gt;是否存在&lt;/span&gt;&lt;br&gt;&lt;span&gt;未抽奖活动单&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="223.75" y="550" width="122.5" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-64" value="是，return" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="330" y="570" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-66" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=13;fontColor=#000000;startArrow=classic;startFill=1;endArrow=none;endFill=0;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" target="Pz96xrmHh8Q_cynHrA4G-60">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="285" y="700" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-67" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="285" y="660" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-69" value="活动领取结果：&lt;br&gt;takeId, StrategyId, 库存" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="330" y="530" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-91" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" target="Pz96xrmHh8Q_cynHrA4G-81">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="580.375" y="700" as="sourcePoint" />
            <mxPoint x="416" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-71" value="" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="35" y="700" width="732.5" height="150" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-70" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;查询活动信息&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="70" y="745" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-72" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;查询活动账单&lt;/span&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=#d5e8d4;strokeColor=#82b366;rounded=0;labelBackgroundColor=#97D077;sketch=0;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="310" y="710" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-74" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;fontColor=#000000;startArrow=classic;startFill=1;endArrow=none;endFill=0;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-73" target="Pz96xrmHh8Q_cynHrA4G-70">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-73" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;从缓存中获取库存&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="226.25" y="745" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-77" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;fontColor=#000000;startArrow=classic;startFill=1;endArrow=none;endFill=0;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-75" target="Pz96xrmHh8Q_cynHrA4G-73">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-75" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;查询用户领取次数&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="380" y="745" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-78" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;fontColor=#000000;startArrow=classic;startFill=1;endArrow=none;endFill=0;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-76" target="Pz96xrmHh8Q_cynHrA4G-75">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-76" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;封装查询结果为&lt;b&gt;活动账单&lt;/b&gt;，注意设置剩余库存和用户剩余参与次数的处理&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="540" y="745" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-95" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-81" target="Pz96xrmHh8Q_cynHrA4G-94">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-81" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#B2C9AB;sketch=0;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="492" y="470" width="358" height="200" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-82" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;校验活动账单&lt;/b&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;labelBackgroundColor=#B2C9AB;sketch=0;fontSize=13;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="606" y="480" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-86" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-83" target="Pz96xrmHh8Q_cynHrA4G-84">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-83" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;b&gt;活动状态是否可用&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="503" y="512" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-88" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-84" target="Pz96xrmHh8Q_cynHrA4G-87">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-84" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;b&gt;活动是否过期&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="677.5" y="515" width="115" height="45" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-93" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-87" target="Pz96xrmHh8Q_cynHrA4G-92">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-87" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;b&gt;活动是否剩余库存&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="518" y="610" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-92" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;b&gt;个人抽奖次数是否仍有剩余&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="704" y="613" width="115" height="45" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-99" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-94" target="Pz96xrmHh8Q_cynHrA4G-98">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-94" value="Redis扣减库存" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#B2C9AB;sketch=0;fontSize=16;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="940" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-103" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-98" target="Pz96xrmHh8Q_cynHrA4G-102">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-98" value="插入参与记录" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#B2C9AB;sketch=0;fontSize=16;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="1100" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-102" value="返回活动领取结果：&lt;br&gt;策略Id，TakeId，库存，剩余库存" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#B2C9AB;sketch=0;fontSize=16;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="880" y="700" width="340" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-118" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;strokeWidth=2;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-104" target="Pz96xrmHh8Q_cynHrA4G-117">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-104" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#B2C9AB;sketch=0;fontSize=16;fontColor=#000000;strokeColor=#788AA3;fillColor=#FFFFFF;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="22" y="920" width="915" height="180" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-106" value="若首次成功领取活动：&lt;br&gt;发送MQ消息" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#B2C9AB;sketch=0;fontSize=16;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="880" y="790" width="340" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-107" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;b&gt;进行抽奖&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="415" y="930" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-110" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;strokeWidth=1;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-108" target="Pz96xrmHh8Q_cynHrA4G-109">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-108" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;获取抽奖策略&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="60" y="1020" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-112" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;strokeWidth=1;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-109" target="Pz96xrmHh8Q_cynHrA4G-111">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-109" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;抽奖策略加载验证&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="240" y="1020" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-114" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;strokeWidth=1;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-111" target="Pz96xrmHh8Q_cynHrA4G-113">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-111" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;获取不在抽奖范围的列表&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="411" y="1020" width="159" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-116" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;strokeWidth=1;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-113" target="Pz96xrmHh8Q_cynHrA4G-115">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-113" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;执行抽奖算法&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="620" y="1020" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-115" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;包装抽奖结果&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="790" y="1020" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-125" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;strokeWidth=1;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-117" target="Pz96xrmHh8Q_cynHrA4G-124">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-117" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#B2C9AB;sketch=0;fontSize=16;fontColor=#000000;strokeColor=#788AA3;fillColor=#FFFFFF;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="280" y="1160" width="400" height="180" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-119" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;b&gt;抽奖结果落库&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="423" y="1180" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-122" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;strokeWidth=1;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-120" target="Pz96xrmHh8Q_cynHrA4G-121">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-120" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;构建抽奖订单&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="310" y="1260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-121" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;保存抽奖信息&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="500" y="1260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-133" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;strokeWidth=1;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-124" target="Pz96xrmHh8Q_cynHrA4G-132">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-124" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#B2C9AB;sketch=0;fontSize=16;fontColor=#000000;strokeColor=#788AA3;fillColor=#FFFFFF;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="150" y="1400" width="660" height="180" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-126" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;b&gt;发送MQ&lt;br&gt;触发发奖流程&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="423" y="1410" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-129" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;strokeWidth=1;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-127" target="Pz96xrmHh8Q_cynHrA4G-128">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-127" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;构建发货单&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="180" y="1490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-131" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;strokeWidth=1;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-128" target="Pz96xrmHh8Q_cynHrA4G-130">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-128" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;发送MQ消息(发货单)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="364" y="1490" width="136" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-130" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;根据发送结果更新mq_state的状态为1或2&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="550" y="1490" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-132" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;b&gt;返回抽奖结果&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="425" y="1650" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-139" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;strokeWidth=1;fillColor=#B2C9AB;entryX=1;entryY=0.561;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-134" target="Pz96xrmHh8Q_cynHrA4G-124">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="820" y="1510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-134" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#B2C9AB;sketch=0;fontSize=16;fontColor=#000000;strokeColor=#788AA3;fillColor=#FFFFFF;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="890" y="1120" width="430" height="170" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-135" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#B2C9AB;sketch=0;fontSize=16;fontColor=#000000;strokeColor=#788AA3;fillColor=#FFFFFF;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="890" y="1360" width="440" height="190" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-136" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;监听并处理lottery_invoice消息，获取发奖工厂，执行发货&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="901" y="1200" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-137" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;b&gt;Kafka监听&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="1040" y="1130" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-141" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=16;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#000000;strokeWidth=1;fillColor=#B2C9AB;" edge="1" parent="1" source="Pz96xrmHh8Q_cynHrA4G-140" target="Pz96xrmHh8Q_cynHrA4G-106">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-140" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;监听并处理lottery_activity_partake消息，更新活动库存&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="1105" y="1200" width="205" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-142" value="&lt;font face=&quot;Times New Roman&quot;&gt;&lt;b&gt;xxl-job分布式定时任务&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fillColor=#B2C9AB;strokeColor=#788AA3;fontColor=#46495D;" vertex="1" parent="1">
          <mxGeometry x="1060" y="1370" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-143" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;扫描活动状态，&lt;br&gt;更新状态为4和5的活动&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="901" y="1450" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Pz96xrmHh8Q_cynHrA4G-144" value="&lt;span style=&quot;background-color: rgb(178 , 201 , 171)&quot;&gt;扫描用户参与活动表中发送失败和超过30分钟未发送的数据，进行补偿发送处理&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#97D077;sketch=0;fontSize=13;fontColor=#000000;strokeColor=#788AA3;fillColor=#B2C9AB;" vertex="1" parent="1">
          <mxGeometry x="1117.5" y="1450" width="180" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
